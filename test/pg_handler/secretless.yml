listeners:
  - name: pg_tcp_tls
    protocol: pg
    address: 0.0.0.0:15432

  - name: pg_tcp_no_tls
    protocol: pg
    address: 0.0.0.0:25432

  - name: pg_socket
    protocol: pg
    socket: /sock/.s.PGSQL.5432

handlers:
  - name: pg_via_socket
    listener: pg_socket
    debug: true
    credentials:
      - name: address
        provider: env
        id: PG_TLS_ADDRESS
      - name: username
        provider: literal
        id: test
      - name: password
        provider: env
        id: PG_PASSWORD

  - name: pg_via_tcp_no_tls
    listener: pg_tcp_no_tls
    debug: true
    credentials:
      - name: address
        provider: env
        id: PG_NO_TLS_ADDRESS
      - name: username
        provider: literal
        id: test
      - name: password
        provider: env
        id: PG_PASSWORD

  - name: pg_via_tcp_tls
    listener: pg_tcp_tls
    debug: true
    credentials:
      - name: address
        provider: env
        id: PG_TLS_ADDRESS
      - name: username
        provider: literal
        id: test
      - name: password
        provider: env
        id: PG_PASSWORD
