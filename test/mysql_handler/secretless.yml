listeners:
  - name: mysql_tcp_tls
    protocol: mysql
    address: 0.0.0.0:4306

  - name: mysql_tcp
    protocol: mysql
    address: 0.0.0.0:3306

  - name: mysql_socket
    protocol: mysql
    socket: /sock/mysql.sock

handlers:
  - name: mysql_via_socket
    listener: mysql_socket
    debug: true
    credentials:
      - name: host
        provider: literal
        id: mysql
      - name: port
        provider: env
        id: MYSQL_PORT
      - name: username
        provider: literal
        id: testuser
      - name: password
        provider: env
        id: MYSQL_PASSWORD

  - name: mysql_via_tcp
    listener: mysql_tcp
    debug: true
    credentials:
      - name: host
        provider: literal
        id: mysql
      - name: port
        provider: env
        id: MYSQL_PORT
      - name: username
        provider: literal
        id: testuser
      - name: password
        provider: env
        id: MYSQL_PASSWORD

  - name: mysql_via_tcp_tls
    listener: mysql_tcp_tls
    debug: true
    credentials:
      - name: host
        provider: literal
        id: mysql
      - name: port
        provider: env
        id: MYSQL_PORT
      - name: username
        provider: literal
        id: testuser
      - name: sslmode
        provider: literal
        id: REQUIRED
      - name: password
        provider: env
        id: MYSQL_PASSWORD
